# PrusaSlicer config bundle
# TPU 95A Profile for Ender 3 Max (Bowden)

# [print:TPU Ender3 Max]
layer_height = 0.2
first_layer_height = 0.2
perimeters = 2
top_solid_layers = 4
bottom_solid_layers = 4
infill_density = 15
infill_pattern = rectilinear
print_speed = 20
perimeter_speed = 20
external_perimeter_speed = 15
infill_speed = 25
travel_speed = 60
first_layer_speed = 10
bridge_speed = 10
avoid_crossing_perimeters = 1
seam_position = aligned
brim_width = 8
skirts = 2
skirt_distance = 3
skirt_height = 1

# [filament:TPU 95A]
filament_type = TPU
filament_diameter = 1.75
filament_temperature = 225
filament_bed_temperature = 50
filament_max_volumetric_speed = 2

# Enable cooling
cooling = 1
# Fan always on â€” improves surface finish and layer bonding for TPU
fan_always_on = 1

fan_speed = 40

first_layer_bed_temperature = 50
first_layer_temperature = 225

# [printer:Ender 3 Max]
retract_length = 5.8
retract_speed = 20
retract_lift = 0.2
retract_lift_above = 0.0
retract_lift_below = 0.0
z_offset = 0.05
gcode_flavor = marlin
bed_shape = 0x0,300x0,300x300,0x300
z_height = 340

# ------------------------------
# Additional Cooling Settings for TPU 95A
# Based on Bambu X1C + Polymaker 95A fan tuning advice from repo
# ------------------------------

# Variable fan speeds based on layer time
min_fan_speed = 40        ; % fan speed when layer time >= 30s
min_fan_speed_threshold = 30
max_fan_speed = 90        ; % fan speed when layer time <= 12s
max_fan_speed_threshold = 12

# Slow down print speed to allow cooling, especially helpful with TPU sagging
slow_down_if_layer_time_below = 30
min_print_speed = 20      ; Avoid extremely slow moves that can blob

# Allow slowing down external perimeters too (better surface quality)
dont_slow_down_perimeters = 0

# Cooling for overhangs and bridges
enable_auto_fan = 1
bridge_fan_speed = 90     ; Max fan for bridges
cooling_tube_length = 0   ; Not needed for direct cooling
cooling_overhang_threshold = 10   ; Fan kicks in even for small overhangs

# Support interface fan speed (-1 = use default)
support_material_interface_fan_speed = -1
